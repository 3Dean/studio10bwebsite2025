import*as i from"https://cdn.skypack.dev/three@0.136.0";import{OrbitControls as f}from"https://cdn.skypack.dev/three@0.136.0/examples/jsm/controls/OrbitControls.js";const x=()=>{console.log("Initializing skybox...");const e=document.getElementById("skybox-container"),c=document.getElementById("hero-container");if(!e||!c){console.error("Container elements not found");return}const g=c.getAttribute("data-skybox-url")||"/images/skybox.jpg";console.log("Using skybox URL:",g);const s=new i.Scene,d=e.clientWidth,u=e.clientHeight,r=new i.PerspectiveCamera(80,d/u,.1,1e3);r.position.set(0,0,.1);const a=new i.WebGLRenderer({antialias:!0,alpha:!0});a.setSize(d,u),a.setPixelRatio(window.devicePixelRatio),e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.overflow="hidden",e.appendChild(a.domElement);const t=a.domElement;t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.cursor="grab",t.style.touchAction="none",t.addEventListener("pointerdown",o=>{console.log("Canvas clicked!",o);const l=document.getElementById("debug-info");l&&(l.classList.remove("hidden"),l.textContent=`Canvas clicked at ${o.clientX}, ${o.clientY}`,setTimeout(()=>{l.classList.add("hidden")},2e3))}),console.log("Setting up OrbitControls...");const n=new f(r,t);n.enableDamping=!0,n.dampingFactor=.05,n.rotateSpeed=1,n.enableZoom=!0,n.zoomSpeed=1.5,n.enablePan=!1,n.autoRotate=!0,n.autoRotateSpeed=.5,console.log("OrbitControls configured:",n),new i.TextureLoader().load(g,o=>{console.log("Texture loaded successfully"),o.mapping=i.EquirectangularReflectionMapping,s.background=o},void 0,o=>{console.error("Error loading skybox texture:",o),s.background=new i.Color(51)});const p=new i.BoxGeometry(.5,.5,.5),y=new i.MeshBasicMaterial({color:65280,wireframe:!0}),m=new i.Mesh(p,y);m.position.set(0,0,-5),s.add(m);const b=new i.AmbientLight(16777215,1);s.add(b);function w(){const o=e.clientWidth,l=e.clientHeight;r.aspect=o/l,r.updateProjectionMatrix(),a.setSize(o,l)}window.addEventListener("resize",w);function h(){requestAnimationFrame(h),n.update(),a.render(s,r)}console.log("Starting animation loop"),h()},E=()=>{document.querySelectorAll('a[href^="#"]').forEach(c=>{c.addEventListener("click",g=>{const s=c.getAttribute("href").substring(1),d=document.getElementById(s);if(d){g.preventDefault();const u=80,r=d.getBoundingClientRect().top,t=window.pageYOffset+r-u;window.scrollTo({top:t,behavior:"smooth"})}})})};document.addEventListener("DOMContentLoaded",()=>{console.log("DOM loaded, initializing Three.js and smooth scroll"),x(),E()});
